FROM amazoncorretto:18.0.2-al2 as builder
COPY . .
RUN ./gradlew build -x test

FROM amazoncorretto:18.0.2-al2
LABEL maintainer="Mehmet Akif Tutuncu <m.akif.tutuncu@gmail.com>"
COPY --from=builder build/libs/malware-notifications-*.jar malware-notifications.jar
ENTRYPOINT ["java","-jar","malware-notifications.jar"]
