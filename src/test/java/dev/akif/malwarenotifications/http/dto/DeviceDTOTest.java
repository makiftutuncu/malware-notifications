package dev.akif.malwarenotifications.http.dto;

import dev.akif.malwarenotifications.TestData;
import lombok.val;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class DeviceDTOTest {
    @Test
    @DisplayName("DeviceDTO can be created from a Device")
    void testCreateFromDevice() {
        val device = TestData.iPhone;
        val dto = new DeviceDTO(device);

        assertEquals(TestData.iPhone.id(), dto.id());
        assertEquals(TestData.iPhone.type(), dto.type());
        assertEquals(TestData.iPhone.model(), dto.model());
        assertEquals(TestData.iPhone.os(), dto.os());
    }

    @Test
    @DisplayName("DeviceDTO can be converted to a Device")
    void testConvertToDevice() {
        val id = TestData.iPhone.id();
        val type = TestData.iPhone.type();
        val model = TestData.iPhone.model();
        val os = TestData.iPhone.os();

        val dto = new DeviceDTO(id, type, model, os);
        val device = dto.toDevice();

        assertEquals(TestData.iPhone, dto.toDevice());
    }
}
