package dev.akif.malwarenotifications.persistence.device;

import dev.akif.malwarenotifications.TestData;
import lombok.val;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class DeviceEntityTest {
    @Test
    @DisplayName("DeviceEntity can be created from a Device")
    void testCreateFromDevice() {
        val id = TestData.iPhone.id();
        val type = TestData.iPhone.type();
        val model = TestData.iPhone.model();
        val os = TestData.iPhone.os();

        val entity = new DeviceEntity(TestData.iPhone);

        assertEquals(id, entity.getId());
        assertEquals(type, entity.getType());
        assertEquals(model, entity.getModel());
        assertEquals(os, entity.getOs());
    }

    @Test
    @DisplayName("DeviceEntity can be converted to a Device")
    void testConvertToDevice() {
        val id = TestData.iPhone.id();
        val type = TestData.iPhone.type();
        val model = TestData.iPhone.model();
        val os = TestData.iPhone.os();

        val entity = new DeviceEntity(id, type, model, os);
        val device = entity.toDevice();

        assertEquals(TestData.iPhone, entity.toDevice());
    }
}
