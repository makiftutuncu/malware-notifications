package dev.akif.malwarenotifications;

import dev.akif.malwarenotifications.detection.Detection;
import dev.akif.malwarenotifications.detection.DetectionType;
import dev.akif.malwarenotifications.device.Device;
import dev.akif.malwarenotifications.device.DeviceType;
import dev.akif.malwarenotifications.http.dto.SortableDetectionFields;
import dev.akif.malwarenotifications.persistence.detection.DetectionEntity;
import dev.akif.malwarenotifications.persistence.device.DeviceEntity;
import org.springframework.data.domain.PageRequest;
import org.springframework.data.domain.Sort;

import java.time.Instant;
import java.util.UUID;

public final class TestData {
    public static final Instant now = Instant.now();

    public static final Device iPhone = new Device(UUID.randomUUID(), DeviceType.IOS, "Apple iPhone 13 Pro", "iOS 15.4");
    public static final Device onePlus = new Device(UUID.randomUUID(), DeviceType.ANDROID, "OnePlus 7T", "Android 12");
    public static final Detection facebook = new Detection(UUID.randomUUID(), iPhone, now.minusSeconds(1), DetectionType.NEW, "Facebook", "Social");
    public static final Detection instagram = new Detection(UUID.randomUUID(), iPhone, now.minusSeconds(2), DetectionType.NEW, "Instagram", "Social");
    public static final Detection whatsApp = new Detection(UUID.randomUUID(), onePlus, now.minusSeconds(3), DetectionType.RESOLVED, "WhatsApp", "Messaging");

    public static DeviceEntity iPhoneEntity() {
        return new DeviceEntity(iPhone);
    }

    public static DeviceEntity onePlusEntity() {
        return new DeviceEntity(onePlus);
    }

    public static DetectionEntity facebookEntity() {
        return new DetectionEntity(facebook);
    }

    public static DetectionEntity instagramEntity() {
        return new DetectionEntity(instagram);
    }

    public static DetectionEntity whatsAppEntity() {
        return new DetectionEntity(whatsApp);
    }

    public static PageRequest defaultPage() {
        return PageRequest.of(0, 10, Sort.by(Sort.Order.desc(SortableDetectionFields.TIME.column).nullsLast()));
    }
}
