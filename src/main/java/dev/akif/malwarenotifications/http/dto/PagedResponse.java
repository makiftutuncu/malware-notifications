package dev.akif.malwarenotifications.http.dto;

import lombok.NonNull;
import org.springframework.data.domain.Page;

import java.util.List;

/**
 * A generic response model for a paged result.
 *
 * @param data       List of items
 * @param page       Current page number
 * @param totalPages Total number of pages
 * @param <A>        Type of the items
 */
public record PagedResponse<A>(@NonNull List<A> data,
                               int page,
                               int totalPages) {
    /**
     * Constructs a new {@link PagedResponse} from given {@link Page}.
     *
     * @param page Page from which to construct the response
     */
    public PagedResponse(@NonNull Page<A> page) {
        this(
                page.getContent(),
                page.getNumber() + 1,
                page.getTotalPages()
        );
    }
}
