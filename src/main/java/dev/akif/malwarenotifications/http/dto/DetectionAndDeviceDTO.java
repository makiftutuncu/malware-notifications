package dev.akif.malwarenotifications.http.dto;

import dev.akif.malwarenotifications.detection.Detection;
import lombok.NonNull;

/**
 * A DTO for a malware detection along with the device on which this detection was made.
 *
 * @param detection The detection
 * @param device    The device on which the detection was made
 */
public record DetectionAndDeviceDTO(@NonNull DetectionDTO detection,
                                    @NonNull DeviceDTO device) {
    /**
     * Constructs a new {@link DetectionAndDeviceDTO} from given {@link Detection}.
     *
     * @param detection Detection from which to construct the DTO
     */
    public DetectionAndDeviceDTO(@NonNull Detection detection) {
        this(
                new DetectionDTO(detection),
                new DeviceDTO(detection.device())
        );
    }
}
