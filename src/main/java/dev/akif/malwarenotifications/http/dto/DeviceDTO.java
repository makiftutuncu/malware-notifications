package dev.akif.malwarenotifications.http.dto;

import dev.akif.malwarenotifications.device.Device;
import dev.akif.malwarenotifications.device.DeviceType;
import lombok.NonNull;

import java.util.UUID;

/**
 * A DTO for a device on which a malware scan is performed.
 *
 * @param id    id of the device
 * @param type  type of the device
 * @param model model of the device
 * @param os    operating system of the device
 */
public record DeviceDTO(@NonNull UUID id,
                        @NonNull DeviceType type,
                        @NonNull String model,
                        @NonNull String os) {
    /**
     * Constructs a new {@link DeviceDTO} from given {@link Device}.
     *
     * @param device Device from which to construct the DTO
     */
    public DeviceDTO(@NonNull Device device) {
        this(
                device.id(),
                device.type(),
                device.model(),
                device.os()
        );
    }

    /**
     * Converts this DTO to a {@link Device}.
     *
     * @return Converted device model
     */
    public @NonNull Device toDevice() {
        return new Device(id, type, model, os);
    }
}
